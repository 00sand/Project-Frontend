{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\sandi\\\\TaskManagment-Front end\\\\task-managment\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from '../context/AuthContext';\nexport var useAddProject = function useAddProject() {\n  var _useAuth = useAuth(),\n    authState = _useAuth.authState;\n  var userId = authState.userId;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    title = _useState2[0],\n    setTitle = _useState2[1];\n  var history = useNavigate();\n  var handleTitleChange = function handleTitleChange(e) {\n    setTitle(e.target.value);\n  };\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    axios.post(\"\".concat(process.env.REACT_APP_API_BASE_URL, \"/projects\"), {\n      title: title,\n      userId: userId\n    }, {\n      headers: {\n        'Authorization': \"Bearer \".concat(localStorage.getItem('token'))\n      }\n    }).then(function (response) {\n      history('/');\n    }).catch(function (error) {\n      console.log(\"error is:\".concat(error.message));\n    });\n  };\n  return {\n    title: title,\n    handleTitleChange: handleTitleChange,\n    handleSubmit: handleSubmit\n  };\n};","map":{"version":3,"names":["useState","axios","useNavigate","useAuth","useAddProject","_useAuth","authState","userId","_useState","_useState2","_slicedToArray","title","setTitle","history","handleTitleChange","e","target","value","handleSubmit","preventDefault","post","concat","process","env","REACT_APP_API_BASE_URL","headers","localStorage","getItem","then","response","catch","error","console","log","message"],"sources":["C:/Users/sandi/TaskManagment-Front end/task-managment/src/components/useAddProject.js"],"sourcesContent":["import { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nexport const useAddProject = () => {\r\n    const { authState } = useAuth();\r\n    const userId = authState.userId\r\n    const [title, setTitle] = useState('');\r\n    let history = useNavigate();\r\n\r\n    const handleTitleChange = (e) => {\r\n        setTitle(e.target.value);\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        axios.post(`${process.env.REACT_APP_API_BASE_URL}/projects`, {\r\n            title,\r\n            userId,\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        })\r\n            .then((response) => {\r\n                history('/');\r\n            })\r\n            .catch((error) => {\r\n                console.log(`error is:${error.message}`);\r\n            });\r\n    };\r\n\r\n    return {\r\n        title,\r\n        handleTitleChange,\r\n        handleSubmit\r\n    };\r\n}\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,wBAAwB;AAEhD,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;EAAA,IAAAC,QAAA,GACTF,OAAO,CAAC,CAAC;IAAvBG,SAAS,GAAAD,QAAA,CAATC,SAAS;EACjB,IAAMC,MAAM,GAAGD,SAAS,CAACC,MAAM;EAAA,IAAAC,SAAA,GACLR,QAAQ,CAAC,EAAE,CAAC;IAAAS,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EACtB,IAAII,OAAO,GAAGX,WAAW,CAAC,CAAC;EAE3B,IAAMY,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,CAAC,EAAK;IAC7BH,QAAQ,CAACG,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC5B,CAAC;EAED,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIH,CAAC,EAAK;IACxBA,CAAC,CAACI,cAAc,CAAC,CAAC;IAElBlB,KAAK,CAACmB,IAAI,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,sBAAsB,gBAAa;MACzDb,KAAK,EAALA,KAAK;MACLJ,MAAM,EAANA;IACJ,CAAC,EAAE;MACCkB,OAAO,EAAE;QACL,eAAe,YAAAJ,MAAA,CAAYK,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC5D;IACJ,CAAC,CAAC,CACGC,IAAI,CAAC,UAACC,QAAQ,EAAK;MAChBhB,OAAO,CAAC,GAAG,CAAC;IAChB,CAAC,CAAC,CACDiB,KAAK,CAAC,UAACC,KAAK,EAAK;MACdC,OAAO,CAACC,GAAG,aAAAZ,MAAA,CAAaU,KAAK,CAACG,OAAO,CAAE,CAAC;IAC5C,CAAC,CAAC;EACV,CAAC;EAED,OAAO;IACHvB,KAAK,EAALA,KAAK;IACLG,iBAAiB,EAAjBA,iBAAiB;IACjBI,YAAY,EAAZA;EACJ,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module"}