{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\sandi\\\\TaskManagment-Front end\\\\task-managment\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\sandi\\\\TaskManagment-Front end\\\\task-managment\\\\src\\\\context\\\\AuthContext.js\";\nimport { createContext, useState, useContext, useCallback, React } from 'react';\nimport { decodeToken } from '../services/tokenService';\nvar AuthContext = createContext();\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var initialAuthState = function initialAuthState() {\n    var decoded = decodeToken();\n    if (decoded) {\n      return {\n        username: decoded.username,\n        role: decoded['http://schemas.microsoft.com/ws/2008/06/identity/claims/role'],\n        userId: decoded.userId,\n        isLoggedIn: true\n      };\n    }\n    return {\n      username: null,\n      role: null,\n      userId: null,\n      isLoggedIn: false\n    };\n  };\n  var _useState = useState(initialAuthState),\n    _useState2 = _slicedToArray(_useState, 2),\n    authState = _useState2[0],\n    setAuthState = _useState2[1];\n  var setAuthInfo = useCallback(function (data) {\n    setAuthState(data);\n  }, []);\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: {\n      authState: authState,\n      setAuthInfo: setAuthInfo\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, children);\n};\n\n// Custom hook to use the AuthContext\nexport var useAuth = function useAuth() {\n  var context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('context is null');\n  }\n  return context;\n};","map":{"version":3,"names":["createContext","useState","useContext","useCallback","React","decodeToken","AuthContext","AuthProvider","_ref","children","initialAuthState","decoded","username","role","userId","isLoggedIn","_useState","_useState2","_slicedToArray","authState","setAuthState","setAuthInfo","data","createElement","Provider","value","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","useAuth","context","Error"],"sources":["C:/Users/sandi/TaskManagment-Front end/task-managment/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useState, useContext, useCallback, React } from 'react';\r\n\r\nimport { decodeToken } from '../services/tokenService';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const initialAuthState = () => {\r\n        const decoded = decodeToken();\r\n\r\n        if (decoded) {\r\n            return {\r\n                username: decoded.username,\r\n                role: decoded['http://schemas.microsoft.com/ws/2008/06/identity/claims/role'],\r\n                userId: decoded.userId,\r\n                isLoggedIn: true\r\n            };\r\n        }\r\n\r\n        return {\r\n            username: null,\r\n            role: null,\r\n            userId: null,\r\n            isLoggedIn: false\r\n        };\r\n    }\r\n\r\n    const [authState, setAuthState] = useState(initialAuthState);\r\n\r\n    const setAuthInfo = useCallback((data) => {\r\n        setAuthState(data);\r\n    }, []);\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ authState, setAuthInfo }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\n\r\n// Custom hook to use the AuthContext\r\nexport const useAuth = () => {\r\n    const context = useContext(AuthContext);\r\n    if (!context) {\r\n        throw new Error('context is null');\r\n    }\r\n    return context;\r\n};"],"mappings":";;;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,WAAW,EAAEC,KAAK,QAAQ,OAAO;AAE/E,SAASC,WAAW,QAAQ,0BAA0B;AAEtD,IAAMC,WAAW,GAAGN,aAAa,CAAC,CAAC;AAEnC,OAAO,IAAMO,YAAY,GAAG,SAAfA,YAAYA,CAAAC,IAAA,EAAqB;EAAA,IAAfC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EACnC,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;IAC3B,IAAMC,OAAO,GAAGN,WAAW,CAAC,CAAC;IAE7B,IAAIM,OAAO,EAAE;MACT,OAAO;QACHC,QAAQ,EAAED,OAAO,CAACC,QAAQ;QAC1BC,IAAI,EAAEF,OAAO,CAAC,8DAA8D,CAAC;QAC7EG,MAAM,EAAEH,OAAO,CAACG,MAAM;QACtBC,UAAU,EAAE;MAChB,CAAC;IACL;IAEA,OAAO;MACHH,QAAQ,EAAE,IAAI;MACdC,IAAI,EAAE,IAAI;MACVC,MAAM,EAAE,IAAI;MACZC,UAAU,EAAE;IAChB,CAAC;EACL,CAAC;EAAA,IAAAC,SAAA,GAEiCf,QAAQ,CAACS,gBAAgB,CAAC;IAAAO,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArDG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAE9B,IAAMI,WAAW,GAAGlB,WAAW,CAAC,UAACmB,IAAI,EAAK;IACtCF,YAAY,CAACE,IAAI,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIlB,KAAA,CAAAmB,aAAA,CAACjB,WAAW,CAACkB,QAAQ;IAACC,KAAK,EAAE;MAAEN,SAAS,EAATA,SAAS;MAAEE,WAAW,EAAXA;IAAY,CAAE;IAAAK,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACnDvB,QACiB,CAAC;AAE/B,CAAC;;AAGD;AACA,OAAO,IAAMwB,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAS;EACzB,IAAMC,OAAO,GAAGhC,UAAU,CAACI,WAAW,CAAC;EACvC,IAAI,CAAC4B,OAAO,EAAE;IACV,MAAM,IAAIC,KAAK,CAAC,iBAAiB,CAAC;EACtC;EACA,OAAOD,OAAO;AAClB,CAAC"},"metadata":{},"sourceType":"module"}